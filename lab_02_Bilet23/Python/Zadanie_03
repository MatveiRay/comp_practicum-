# Райко Матвей Витальевич НБИбд-03-23
# Лабораторная 2, Билет 23, Задание 3

"""
3.Дано уравнение гиперболы и точка на плоскости, где параметры гиперболы и координаты точки определены случайным образом. 
Исследовать вопрос о том, принадлежит ли точка гиперболе.Найти координаты фокусов гиперболы, найти длины действительной и мнимой полуосей,
найти эксцентриситет гиперболы, найти расстояние между директрисами гиперболы.
"""

import numpy as np
import random

# Генерация случайного уравнения гиперболы и случайной точки
def generate_random_hyperbola_and_point():
    # Параметры гиперболы a и b (положительные числа)
    a = random.uniform(1, 10)
    b = random.uniform(1, 10)
    
    # Выбираем случайную форму гиперболы
    forms = ['x^2/a^2 - y^2/b^2 = 1', 'y^2/b^2 - x^2/a^2 = 1']
    form = random.choice(forms)
    
    # Генерация случайной точки
    x = random.uniform(-20, 20)
    y = random.uniform(-20, 20)
    
    return a, b, form, x, y

# Проверка принадлежности точки гиперболе
def is_point_on_hyperbola(a, b, form, x, y):
    if form == 'x^2/a^2 - y^2/b^2 = 1':
        return (x**2 / a**2) - (y**2 / b**2) == 1
    elif form == 'y^2/b^2 - x^2/a^2 = 1':
        return (y**2 / b**2) - (x**2 / a**2) == 1

# Основные вычисления для гиперболы
def main():
    # Генерация случайных параметров гиперболы и точки
    a, b, form, x, y = generate_random_hyperbola_and_point()
    
    # Вывод параметров гиперболы и точки
    print(f"Гипербола: {form}")
    print(f"Параметры гиперболы: a = {a}, b = {b}")
    print(f"Случайная точка: ({x}, {y})")
    
    # Проверка принадлежности точки гиперболе
    if is_point_on_hyperbola(a, b, form, x, y):
        print("Точка принадлежит гиперболе.")
    else:
        print("Точка не принадлежит гиперболе.")
    
    # Координаты фокусов гиперболы
    c = np.sqrt(a**2 + b**2)
    if form == 'x^2/a^2 - y^2/b^2 = 1':
        foci1 = (c, 0)
        foci2 = (-c, 0)
    else:
        foci1 = (0, c)
        foci2 = (0, -c)
    
    print(f"Фокусы гиперболы: {foci1} и {foci2}")
    
    # Длины действительной и мнимой полуосей
    print(f"Длина действительной полуоси (a): {a}")
    print(f"Длина мнимой полуоси (b): {b}")
    
    # Эксцентриситет гиперболы
    e = np.sqrt(1 + (b**2 / a**2))
    print(f"Эксцентриситет гиперболы: {e}")
    
    # Расстояние между директрисами
    d = 2 * a / e
    print(f"Расстояние между директрисами гиперболы: {d}")

# Запуск программы
if __name__ == "__main__":
    main()

